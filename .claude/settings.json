{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "^(Write|Edit|MultiEdit)$",
        "hooks": [
          {
            "type": "command",
            "command": "npx agentic-qe hooks guard --file \"$TOOL_INPUT_file_path\" --json",
            "timeout": 3000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "^(Write|Edit|MultiEdit)$",
        "hooks": [
          {
            "type": "command",
            "command": "npx agentic-qe hooks pre-edit --file \"$TOOL_INPUT_file_path\" --json",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "^Bash$",
        "hooks": [
          {
            "type": "command",
            "command": "npx agentic-qe hooks pre-command --command \"$TOOL_INPUT_command\" --json",
            "timeout": 3000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "^Task$",
        "hooks": [
          {
            "type": "command",
            "command": "npx agentic-qe hooks pre-task --description \"$TOOL_INPUT_prompt\" --json",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "Edit|Write|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "timeout": 2000,
            "command": "npx ruvector@latest hooks pre-edit \"$TOOL_INPUT_file_path\" 2>/dev/null || true"
          },
          {
            "type": "command",
            "timeout": 2000,
            "command": "npx ruvector@latest hooks coedit-suggest --file \"$TOOL_INPUT_file_path\" 2>/dev/null || true"
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "timeout": 2000,
            "command": "npx ruvector@latest hooks pre-command \"$TOOL_INPUT_command\" 2>/dev/null || true"
          }
        ]
      },
      {
        "matcher": "Read",
        "hooks": [
          {
            "type": "command",
            "timeout": 2000,
            "command": "npx ruvector@latest hooks remember \"Reading: $TOOL_INPUT_file_path\" -t file_access 2>/dev/null || true"
          }
        ]
      },
      {
        "matcher": "Glob|Grep",
        "hooks": [
          {
            "type": "command",
            "timeout": 2000,
            "command": "npx ruvector@latest hooks remember \"Search: $TOOL_INPUT_pattern\" -t search_pattern 2>/dev/null || true"
          }
        ]
      },
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "timeout": 2000,
            "command": "npx ruvector@latest hooks remember \"Agent: $TOOL_INPUT_subagent_type\" -t agent_spawn 2>/dev/null || true"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "^(Write|Edit|MultiEdit)$",
        "hooks": [
          {
            "type": "command",
            "command": "npx agentic-qe hooks post-edit --file \"$TOOL_INPUT_file_path\" --success --json",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "^Bash$",
        "hooks": [
          {
            "type": "command",
            "command": "npx agentic-qe hooks post-command --command \"$TOOL_INPUT_command\" --success --json",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "^Task$",
        "hooks": [
          {
            "type": "command",
            "command": "npx agentic-qe hooks post-task --task-id \"$TOOL_RESULT_agent_id\" --success --json",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "matcher": "Edit|Write|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "timeout": 2000,
            "command": "npx ruvector@latest hooks post-edit \"$TOOL_INPUT_file_path\" 2>/dev/null || true"
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "timeout": 2000,
            "command": "npx ruvector@latest hooks post-command \"$TOOL_INPUT_command\" 2>/dev/null || true"
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "npx agentic-qe hooks route --task \"$PROMPT\" --json",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "hooks": [
          {
            "type": "command",
            "timeout": 2000,
            "command": "npx ruvector@latest hooks suggest-context 2>/dev/null || true"
          },
          {
            "type": "command",
            "timeout": 2000,
            "command": "npx agentic-flow@alpha workers dispatch-prompt \"$CLAUDE_USER_PROMPT\" 2>/dev/null || true"
          },
          {
            "type": "command",
            "timeout": 1000,
            "command": "npx agentic-flow@alpha workers inject-context \"$CLAUDE_USER_PROMPT\" 2>/dev/null || true"
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "npx agentic-qe hooks session-start --session-id \"$SESSION_ID\" --json",
            "timeout": 10000,
            "continueOnError": true
          }
        ]
      },
      {
        "hooks": [
          {
            "type": "command",
            "timeout": 5000,
            "command": "npx ruvector@latest hooks session-start 2>/dev/null || true"
          },
          {
            "type": "command",
            "timeout": 2000,
            "command": "npx ruvector@latest hooks trajectory-begin -c \"claude-session\" -a \"claude\" 2>/dev/null || true"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "npx agentic-qe hooks session-end --save-state --json",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      },
      {
        "hooks": [
          {
            "type": "command",
            "timeout": 2000,
            "command": "npx ruvector@latest hooks trajectory-end --success --quality 0.8 2>/dev/null || true"
          },
          {
            "type": "command",
            "timeout": 2000,
            "command": "npx ruvector@latest hooks session-end 2>/dev/null || true"
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node .claude/helpers/auto-memory-hook.mjs sync 2>/dev/null || true",
            "timeout": 8000,
            "continueOnError": true
          },
          {
            "type": "command",
            "command": "npx @claude-flow/cli@latest hooks session-end --persist-memory true --export-patterns true 2>/dev/null || true",
            "timeout": 8000,
            "continueOnError": true
          }
        ]
      }
    ],
    "Notification": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "timeout": 2000,
            "command": "npx ruvector@latest hooks track-notification 2>/dev/null || true"
          }
        ]
      }
    ],
    "TeammateIdle": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "npx @claude-flow/cli@latest hooks teammate-idle --auto-assign true 2>/dev/null || true",
            "timeout": 5000,
            "continueOnError": true
          }
        ]
      }
    ],
    "TaskCompleted": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "[ -n \"$TASK_ID\" ] && npx vitest run tests/security/adaptive-learning.spec.ts && npx @claude-flow/cli@latest hooks task-completed --task-id \"$TASK_ID\" --train-patterns true 2>/dev/null || true",
            "timeout": 10000,
            "continueOnError": true
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": "auto",
        "hooks": [
          {
            "type": "command",
            "timeout": 5000,
            "command": "npx ruvector@latest hooks pre-compact --auto 2>/dev/null || true"
          },
          {
            "type": "command",
            "timeout": 5000,
            "command": "npx ruvector@latest hooks compress 2>/dev/null || true"
          }
        ]
      },
      {
        "matcher": "manual",
        "hooks": [
          {
            "type": "command",
            "timeout": 5000,
            "command": "npx ruvector@latest hooks pre-compact 2>/dev/null || true"
          }
        ]
      }
    ]
  },
  "statusLine": {
    "type": "command",
    "command": "node .claude/helpers/statusline-v3.cjs 2>/dev/null || .claude/statusline-v3.sh 2>/dev/null || echo \"â–Š Agentic QE v3\"",
    "refreshMs": 5000,
    "enabled": true
  },
  "permissions": {
    "allow": [
      "Bash(npx claude-flow:*)",
      "Bash(npx @claude-flow/cli:*)",
      "mcp__claude-flow__:*",
      "mcp__agentic_qe__*"
    ],
    "deny": [
      "Bash(rm -rf /)"
    ]
  },
  "attribution": {
    "commit": "Co-Authored-By: claude-flow <ruv@ruv.net>",
    "pr": "ðŸ¤– Generated with [claude-flow](https://github.com/ruvnet/claude-flow)"
  },
  "env": {
    "CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS": "1",
    "CLAUDE_FLOW_V3_ENABLED": "true",
    "CLAUDE_FLOW_HOOKS_ENABLED": "true",
    "RUVECTOR_INTELLIGENCE_ENABLED": "true",
    "RUVECTOR_LEARNING_RATE": "0.1",
    "RUVECTOR_MEMORY_BACKEND": "rvlite",
    "INTELLIGENCE_MODE": "treatment",
    "RUVECTOR_AST_ENABLED": "true",
    "RUVECTOR_DIFF_EMBEDDINGS": "true",
    "RUVECTOR_COVERAGE_ROUTING": "true",
    "RUVECTOR_GRAPH_ALGORITHMS": "true",
    "RUVECTOR_SECURITY_SCAN": "true",
    "RUVECTOR_MULTI_ALGORITHM": "true",
    "RUVECTOR_DEFAULT_ALGORITHM": "double-q",
    "RUVECTOR_TENSOR_COMPRESS": "true",
    "RUVECTOR_AUTO_COMPRESS": "true",
    "AQE_MEMORY_PATH": ".agentic-qe/memory.db",
    "AQE_MEMORY_ENABLED": "true",
    "AQE_LEARNING_ENABLED": "true",
    "AQE_V3_MODE": "true",
    "AQE_V3_DDD_ENABLED": "true",
    "AQE_V3_DOMAINS": "test-generation,test-execution,coverage-analysis,quality-assessment,defect-intelligence,requirements-validation,code-intelligence,security-compliance,contract-testing,visual-accessibility,chaos-resilience,learning-optimization",
    "AQE_V3_SWARM_SIZE": "5",
    "AQE_V3_TOPOLOGY": "hierarchical",
    "AQE_V3_SUBLINEAR_ENABLED": "true",
    "AQE_V3_HNSW_ENABLED": "true",
    "AQE_V3_HOOKS_ENABLED": "true",
    "AQE_V3_HOOK_BRIDGE": ".claude/hooks/v3-qe-bridge.sh",
    "AQE_V3_DOMAIN_WORKERS": ".claude/hooks/v3-domain-workers.json",
    "AQE_V3_AISP_ENABLED": "true",
    "AQE_V3_REASONING_BANK": ".agentic-qe/memory.db",
    "AQE_V3_PATTERN_PROMOTION_THRESHOLD": "3",
    "AQE_V3_SUCCESS_RATE_THRESHOLD": "0.7"
  },
  "claudeFlow": {
    "version": "3.0.0",
    "enabled": true,
    "modelPreferences": {
      "default": "claude-opus-4-6",
      "routing": "claude-haiku-4-5-20251001"
    },
    "agentTeams": {
      "enabled": true,
      "teammateMode": "auto",
      "taskListEnabled": true,
      "mailboxEnabled": true,
      "coordination": {
        "autoAssignOnIdle": true,
        "trainPatternsOnComplete": true,
        "notifyLeadOnComplete": true,
        "sharedMemoryNamespace": "agent-teams"
      },
      "hooks": {
        "teammateIdle": {
          "enabled": true,
          "autoAssign": true,
          "checkTaskList": true
        },
        "taskCompleted": {
          "enabled": true,
          "trainPatterns": true,
          "notifyLead": true
        }
      }
    },
    "swarm": {
      "topology": "hierarchical-mesh",
      "maxAgents": 15
    },
    "memory": {
      "backend": "hybrid",
      "enableHNSW": true,
      "learningBridge": {
        "enabled": true
      },
      "memoryGraph": {
        "enabled": true
      },
      "agentScopes": {
        "enabled": true
      }
    },
    "neural": {
      "enabled": true
    },
    "daemon": {
      "autoStart": true,
      "workers": [
        "map",
        "audit",
        "optimize",
        "consolidate",
        "testgaps",
        "ultralearn",
        "deepdive",
        "document",
        "refactor",
        "benchmark"
      ],
      "schedules": {
        "audit": {
          "interval": "1h",
          "priority": "critical"
        },
        "optimize": {
          "interval": "30m",
          "priority": "high"
        },
        "consolidate": {
          "interval": "2h",
          "priority": "low"
        },
        "document": {
          "interval": "1h",
          "priority": "normal",
          "triggers": [
            "adr-update",
            "api-change"
          ]
        },
        "deepdive": {
          "interval": "4h",
          "priority": "normal",
          "triggers": [
            "complex-change"
          ]
        },
        "ultralearn": {
          "interval": "1h",
          "priority": "normal"
        }
      }
    },
    "learning": {
      "enabled": true,
      "autoTrain": true,
      "patterns": [
        "coordination",
        "optimization",
        "prediction"
      ],
      "retention": {
        "shortTerm": "24h",
        "longTerm": "30d"
      }
    },
    "adr": {
      "autoGenerate": true,
      "directory": "/docs/adr",
      "template": "madr"
    },
    "ddd": {
      "trackDomains": true,
      "validateBoundedContexts": true,
      "directory": "/docs/ddd"
    },
    "security": {
      "autoScan": true,
      "scanOnEdit": true,
      "cveCheck": true,
      "threatModel": true
    }
  },
  "workers": {
    "enabled": true,
    "parallel": true,
    "maxConcurrent": 10,
    "native": {
      "enabled": true,
      "types": [
        "security",
        "analysis",
        "learning"
      ],
      "defaultTimeout": 120000
    },
    "triggers": {
      "ultralearn": {
        "priority": "high",
        "agents": [
          "researcher",
          "coder"
        ]
      },
      "optimize": {
        "priority": "high",
        "agents": [
          "performance-analyzer"
        ]
      },
      "audit": {
        "priority": "critical",
        "agents": [
          "security-analyst",
          "tester"
        ]
      },
      "map": {
        "priority": "medium",
        "agents": [
          "architect"
        ]
      },
      "security": {
        "priority": "critical",
        "agents": [
          "security-analyst"
        ]
      },
      "benchmark": {
        "priority": "low",
        "agents": [
          "performance-analyzer"
        ]
      },
      "document": {
        "priority": "medium",
        "agents": [
          "documenter"
        ]
      },
      "refactor": {
        "priority": "medium",
        "agents": [
          "coder",
          "reviewer"
        ]
      },
      "testgaps": {
        "priority": "high",
        "agents": [
          "tester"
        ]
      },
      "deepdive": {
        "priority": "low",
        "agents": [
          "researcher"
        ]
      },
      "predict": {
        "priority": "medium",
        "agents": [
          "analyst"
        ]
      },
      "consolidate": {
        "priority": "low",
        "agents": [
          "architect"
        ]
      }
    }
  },
  "performance": {
    "modelCache": {
      "enabled": true,
      "maxSizeMB": 512,
      "ttlMinutes": 60
    },
    "benchmarkThresholds": {
      "triggerDetection": {
        "p95": 5
      },
      "workerRegistry": {
        "p95": 10
      },
      "agentSelection": {
        "p95": 1
      },
      "memoryKeyGen": {
        "p95": 0.1
      },
      "concurrent10": {
        "p95": 1000
      },
      "singleEmbedding": {
        "p95": 500
      },
      "batchEmbedding16": {
        "p95": 8000
      }
    },
    "optimizations": {
      "parallelDispatch": true,
      "batchEmbeddings": true,
      "cacheEmbeddings": true,
      "simd": true
    }
  },
  "agents": {
    "presets": {
      "quick-scan": {
        "phases": [
          "file-discovery",
          "summarization"
        ],
        "timeout": 30000
      },
      "deep-analysis": {
        "phases": [
          "file-discovery",
          "pattern-extraction",
          "embedding-generation",
          "complexity-analysis",
          "summarization"
        ],
        "timeout": 120000,
        "capabilities": {
          "onnxEmbeddings": true,
          "vectorDb": true
        }
      },
      "security-scan": {
        "phases": [
          "file-discovery",
          "security-scan",
          "summarization"
        ],
        "timeout": 60000
      },
      "learning": {
        "phases": [
          "file-discovery",
          "pattern-extraction",
          "embedding-generation",
          "vector-storage",
          "summarization"
        ],
        "timeout": 180000,
        "capabilities": {
          "onnxEmbeddings": true,
          "vectorDb": true,
          "intelligenceMemory": true
        }
      }
    },
    "capabilities": {
      "onnxEmbeddings": true,
      "vectorDb": true,
      "intelligenceMemory": true,
      "parallelProcessing": true
    }
  },
  "mcpServers": {},
  "enabledMcpjsonServers": [
    "claude-flow",
    "agentic-qe"
  ],
  "aqe": {
    "version": "3.6.17",
    "initialized": "2026-02-21T19:43:05.494Z",
    "hooksConfigured": true
  },
  "includeCoAuthoredBy": true,
  "v3Configuration": {
    "domains": {
      "total": 12,
      "names": [
        "test-generation",
        "test-execution",
        "coverage-analysis",
        "quality-assessment",
        "defect-intelligence",
        "requirements-validation",
        "code-intelligence",
        "security-compliance",
        "contract-testing",
        "visual-accessibility",
        "chaos-resilience",
        "learning-optimization"
      ]
    },
    "swarm": {
      "totalAgents": 5,
      "topology": "hierarchical",
      "coordination": "queen-led"
    }
  },
  "v3Learning": {
    "enabled": true,
    "reasoningBank": {
      "dbPath": ".agentic-qe/memory.db",
      "enableHNSW": true
    },
    "patternPromotion": {
      "threshold": 3,
      "successRateMin": 0.7
    }
  }
}